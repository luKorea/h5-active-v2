(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f4bb602"],{"1b21":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pose-recommend"},[s("div",{staticClass:"pose-img"},[s("img",{attrs:{src:e.bgImg,alt:"",referrerpolicy:"no-referrer"}})]),s("info-fixed",{attrs:{userInfo:e.userInfo}}),s("count-down"),"A1"==e.showDifferentComponents?s("pose-component",{attrs:{userInfo:e.userInfo,poseData:e.poseData,resetTime:e.resetTime},on:{openPayModal:e.handleChangePayModal}}):e._e(),"A2"==e.showDifferentComponents?s("even-component",{attrs:{userInfo:e.userInfo,evenData:e.evenData},on:{openPayModal:e.handleChangePayModal}}):e._e(),s("pose-discount"),s("send-link"),s("anniversary-footer"),s("pay-component",{ref:"payRef",attrs:{payInfo:e.payInfo,userInfo:e.userInfo},on:{payWechat:e.payWechat,payAli:e.payAli}})],1)},n=[],a=(s("e17f"),s("2241")),r=s("5530"),i=(s("e9c4"),s("d3b7"),s("159b"),s("ac1f"),s("466d"),s("9edc")),c=s("088b"),l=s("49d3"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"pose-youhui"},[s("div",{staticClass:"youhui-title"},[s("img",{attrs:{src:e.youhuiTitle,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"youhui-img",on:{click:e.goOrdinaryPage}},[s("img",{attrs:{src:e.youhuiImg,alt:"",referrerpolicy:"no-referrer"}})])])])},d=[],u=s("e121"),f={data:function(){return{youhuiTitle:u["a"]+"/pose-recommend/youhui.png",youhuiImg:u["a"]+"/pose-recommend/youhui-link.png"}},methods:{goOrdinaryPage:function(){this.$router.push({path:"/ordinaryRecommend"})}}},m=f,g=(s("b3ce"),s("2877")),h=Object(g["a"])(m,p,d,!1,null,"66690432",null),v=h.exports,I=s("ea11"),y=s("92b1"),C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"pose-one-wrap"},[s("div",{staticClass:"pose-one-bg"},[s("img",{attrs:{src:e.bgImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"pose-title"},[s("img",{attrs:{src:e.titleImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"pose-tab-wrap"},[s("div",{staticClass:"tab-img-bg"},[s("img",{attrs:{src:e.defaultSelectImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"btn-wrap"},[e.poseData&&e.poseData.length>0?e._l(e.poseData,(function(t,o){return s("div",{key:t.snId},[s("div",{staticClass:"btn",on:{click:function(s){return e.changeImg(o+1,t)}}},[e._v(" "+e._s(t.mold.name)+" ")])])})):e._e()],2)]),s("div",{staticClass:"pose-content"},[s("div",{staticClass:"tab-wrap"},[e.list&&e.list.length>0?e._l(e.list,(function(t){return s("div",{key:t.id,staticClass:"item",on:{click:function(s){return e.handleSelectItem(t)}}},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t.cover,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"title"},[e._v(e._s(t.name))]),s("div",{staticClass:"originalPrice"},[e._v(e._s(t.original)+"P币")]),s("div",{staticClass:"presentPrice"},[s("div",{staticClass:"price"},[s("span",{staticClass:"big"},[e._v(e._s(t.sale))]),s("span",{staticClass:"small"},[e._v("P币")])]),s("div",{staticClass:"radio"},[s("input",{attrs:{id:"item",type:"radio",name:"item"},domProps:{value:t.title,checked:e.selectItem===t.snId}}),s("label",{attrs:{for:"item"}})])])])})):e._e()],2)])]),s("pose-chose",{ref:"pose-chose",attrs:{userInfo:e.userInfo,info:e.selectInfo},on:{openPayModal:e.openPayModal}})],1)},b=[],P=(s("b0c0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pose-chose"},[s("div",{staticClass:"chose-bg-img"},[s("img",{attrs:{src:e.bgImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"pose-title"},[s("img",{attrs:{src:e.titleImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-avatar"},[s("img",{attrs:{src:e.userInfo.iconUrl,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"user-tip"},[s("div",{staticClass:"user-id"},[e._v("POFI ID: "+e._s(e.userInfo.nickId))]),s("div",{staticClass:"user-tip"},[e._v(" 专业版: "+e._s((new Date).getTime()>e.resetTime?"已过期":"未过期")+" 余额: "+e._s(e.userInfo.pocket&&e.userInfo.pocket.gold?e.userInfo.pocket.gold/100:0)+"P ")])])]),s("div",{staticClass:"chose-img"},[s("img",{attrs:{src:e.info.choseImg,alt:"",referrerpolicy:"no-referrer"}})]),""!==e.info.title?[s("div",{staticClass:"chose-title"},[e._v(e._s(e.info.title))]),s("div",{staticClass:"chose-price"},[s("img",{attrs:{src:e.priceImg,alt:"",referrerpolicy:"no-referrer"}})])]:e._e(),s("div",{staticClass:"chose-pro-title"},[s("img",{attrs:{src:e.proTitle,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"chose-pro-wrap"},[s("div",{staticClass:"pro",on:{click:function(t){return e.handleChangePayModal("pro")}}},[s("img",{attrs:{src:e.proImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"svip",on:{click:function(t){return e.handleChangePayModal("svip")}}},[s("img",{attrs:{src:e.svipImg,alt:"",referrerpolicy:"no-referrer"}})])])],2)}),_=[],k={props:{info:{type:Object,default:function(){return{}}},userInfo:{type:Object,default:function(){}},resetTime:{type:String,default:""}},computed:{proState:function(){var e,t=null===(e=this.userInfo)||void 0===e?void 0:e.vips.forEach((function(e){"pro"===e.func&&console.log(e)}));return t}},data:function(){return{payInfo:{},bgImg:u["a"]+"/pose-recommend/pose-chose-bg.png",titleImg:u["a"]+"/pose-recommend/pose-title.png",priceImg:u["a"]+"/pose-recommend/pose-money.png",proTitle:u["a"]+"/pose-recommend/pro-title.png",proImg:u["a"]+"/pose-recommend/pro.png",svipImg:u["a"]+"/pose-recommend/svip.png"}},methods:{handleChangePayModal:function(e){this.$emit("openPayModal",e,this.info)}}},w=k,D=(s("75d5"),Object(g["a"])(w,P,_,!1,null,"379c993e",null)),O=D.exports,M={components:{PoseChose:O},props:{poseData:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!0},userInfo:{type:Object,default:function(){}}},data:function(){return{status:1,bgImg:u["a"]+"/pose-recommend/pose-one-bg.png",titleImg:u["a"]+"/pose-recommend/one-title.png",defaultSelectImg:u["a"]+"/pose-recommend/pose-chose-one-one.png",selectOneImg:u["a"]+"/pose-recommend/pose-chose-one-one.png",selectTwoImg:u["a"]+"/pose-recommend/pose-chose-one-two.png",selectThreeImg:u["a"]+"/pose-recommend/pose-chose-one-three.png",selectItem:0,selectInfo:{choseImg:u["a"]+"/pose-recommend/default-pose-chose.png",title:""},list:[]}},mounted:function(){var e=this;setTimeout((function(){e.list=e.poseData.length>0?e.poseData[0].preps:[]}),1e3)},methods:{changeImg:function(e,t){if(this.selectItem=0,this.selectInfo={choseImg:u["a"]+"/pose-recommend/default-pose-chose.png",title:""},e!==this.status)switch(e){case 1:this.defaultSelectImg=this.selectOneImg,this.list=t.preps,this.status=e;break;case 2:this.defaultSelectImg=this.selectTwoImg,this.list=t.preps,this.status=e;break;case 3:this.defaultSelectImg=this.selectThreeImg,this.list=t.preps,this.status=e;break}},handleSelectItem:function(e){var t=this;e.snId!==this.selectItem&&(this.selectItem=e.snId,console.log(e,"用户选中的项目"),this.$nextTick((function(){t.$refs["pose-chose"].$el.scrollIntoView({behavior:"smooth"})})),this.selectInfo=Object(r["a"])(Object(r["a"])({},e),{},{title:e.name,choseImg:e.cover}))},openPayModal:function(e,t){this.$emit("openPayModal",e,t)}}},$=M,j=(s("34b7"),s("f321"),Object(g["a"])($,C,b,!1,null,"9629f6f8",null)),x=j.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content-wrap"},[s("div",{staticClass:"even-one-wrap"},[s("div",{staticClass:"even-one-bg"},[s("img",{attrs:{src:e.bgImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"even-title"},[s("img",{attrs:{src:e.titleImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"even-wrap"},[e.evenData&&e.evenData.length>0?e._l(e.evenData,(function(t,o){return s("div",{key:t.mold.snId,staticClass:"item",on:{click:function(s){return e.changeSelectImg(t.mold,o)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:e.selectItemIndex===o?t.mold.selectImg:t.mold.verticalImg,alt:"",referrerpolicy:"no-referrer"}})])])})):e._e()],2)]),s("pose-chose",{ref:"pose-chose",attrs:{userInfo:e.userInfo,info:e.selectInfo},on:{openPayModal:e.openPayModal}})],1)},A=[],S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pose-chose"},[s("div",{staticClass:"chose-bg-img"},[s("img",{attrs:{src:e.bgImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"pose-title"},[s("img",{attrs:{src:e.titleImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-avatar"},[s("img",{attrs:{src:e.userInfo.iconUrl,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"user-tip"},[s("div",{staticClass:"user-id"},[e._v("POFI ID: "+e._s(e.userInfo.nickId))]),s("div",{staticClass:"user-tip"},[e._v(" 账号余额: "+e._s(e.userInfo.pocket&&e.userInfo.pocket.gold?e.userInfo.pocket.gold/100:0)+"P ")])])]),s("div",{staticClass:"chose-img"},[s("img",{attrs:{src:e.info.choseImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"chose-title"},[e._v(e._s(e.info.title))]),s("div",{staticClass:"chose-price"},[s("img",{attrs:{src:e.priceImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"chose-pro-title"},[s("img",{attrs:{src:e.proTitle,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"chose-pro-wrap"},[s("div",{staticClass:"pro",on:{click:function(t){return e.handleChangePayModal("pro")}}},[s("img",{attrs:{src:e.proImg,alt:"",referrerpolicy:"no-referrer"}})]),s("div",{staticClass:"svip",on:{click:function(t){return e.handleChangePayModal("six")}}},[s("img",{attrs:{src:e.sixPBImg,alt:"",referrerpolicy:"no-referrer"}})])])])},E=[],J={props:{info:{type:Object,default:function(){return{}}},userInfo:{type:Object,default:function(){}}},data:function(){return{bgImg:u["a"]+"/pose-recommend/pose-chose-bg.png",titleImg:u["a"]+"/pose-recommend/even/chose-even-title.png",priceImg:u["a"]+"/pose-recommend/even/chose-even-price.png",proTitle:u["a"]+"/pose-recommend/even/chose-even-pro-title.png",proImg:u["a"]+"/pose-recommend/pro.png",sixPBImg:u["a"]+"/pose-recommend/even/chose-even-six-pb.png",payInfo:{}}},methods:{handleChangePayModal:function(e){this.$emit("openPayModal",e,this.info)}}},B=J,F=(s("48a6"),Object(g["a"])(B,S,E,!1,null,"35ad3d34",null)),R=F.exports,U={components:{PoseChose:R},props:{evenData:{type:Array,default:function(){return[]}},userInfo:{type:Object,default:function(){}}},data:function(){return{bgImg:u["a"]+"/pose-recommend/even/even-one-bg.png",titleImg:u["a"]+"/pose-recommend/one-title.png",selectInfo:{choseImg:u["a"]+"/pose-recommend/even/chose-xiawa.png",title:"Pofi虚拟女性人偶-BJD夏娃"},selectItemIndex:0,list:[{id:1,title:"Pofi虚拟女性人偶-BJD夏娃",img:u["a"]+"/pose-recommend/even/xiawa.png",selectImg:u["a"]+"/pose-recommend/even/select-xiawa.png",choseImg:u["a"]+"/pose-recommend/even/chose-xiawa.png"},{id:2,title:"Pofi虚拟男性人偶-BJD亚当",img:u["a"]+"/pose-recommend/even/yadan.png",selectImg:u["a"]+"/pose-recommend/even/select-yadan.png",choseImg:u["a"]+"/pose-recommend/even/chose-yadan.png"},{id:3,title:"Pofi虚拟男性人偶-BJD队长",img:u["a"]+"/pose-recommend/even/duizhang.png",selectImg:u["a"]+"/pose-recommend/even/select-duizhang.png",choseImg:u["a"]+"/pose-recommend/even/chose-duizhang.png"}]}},methods:{changeSelectImg:function(e,t){var s=this;t!==this.selectItemIndex&&(this.selectItemIndex=t,this.$nextTick((function(){s.$refs["pose-chose"].$el.scrollIntoView({behavior:"smooth"})})),this.selectInfo=Object(r["a"])(Object(r["a"])({},e),{},{choseImg:e.cover,title:e.name}))},openPayModal:function(e,t){this.$emit("openPayModal",e,t)}}},W=U,K=(s("3c75"),Object(g["a"])(W,T,A,!1,null,"dbc80cbc",null)),N=K.exports,V=s("9395"),z=s("ed08"),q=s("6b43"),G=s("7e38"),L=s("f809"),H={name:"poseRecommend",components:{AnniversaryFooter:i["a"],PoseDiscount:v,PayComponent:y["a"],SendLink:I["a"],InfoFixed:c["a"],CountDown:l["a"],PoseComponent:x,EvenComponent:N},created:function(){null===this.$store.state.anniversaryModule.token&&this.$router.push({path:"/login"}),console.log(this.$store)},mounted:function(){document.title="POFI 周年庆典";var e=this.$store.state.anniversaryModule;this.getPoseAndEvenData({uid:e.uid,loginKey:e.token}),this.getAccount({uid:e.uid,loginKey:e.token});var t=q["a"].getCache("checkPage");if(this.showDifferentComponents=t,"success"===this.$route.query.state&&q["a"].getCache("selectInfo")){var s=q["a"].getCache("selectInfo"),o=[];o.push({tid:s.moid,snId:s.snId,amount:1,paymentType:1}),console.log(o,"data"),this.bugShopping({uid:e.uid,loginKey:e.token,cart:JSON.stringify(o)})}},data:function(){return{payInfo:{},bgImg:u["a"]+"/bg.png",showDifferentComponents:"A1",poseData:[],evenData:[],selectShopInfo:{},userInfo:{},resetTime:null}},methods:{getAccount:function(e){var t=this;Object(V["d"])(e).then((function(e){var s;200===e.code&&(null===e||void 0===e||null===(s=e.data)||void 0===s||s.vips.forEach((function(e){"pro"===e.func&&(t.resetTime=e.endAt)})),t.userInfo=Object(r["a"])(Object(r["a"])({},t.$store.state.anniversaryModule.userInfo),e.data))}))},getPoseAndEvenData:function(e){var t=this;Object(V["c"])(e).then((function(e){200===e.code?(t.poseData=e.data,t.evenData=e.data):Object(z["c"])(e.msg)}))},bugShopping:function(e){Object(V["a"])(e).then((function(e){q["a"].cleanCache("selectInfo"),200===e.code?a["a"].alert({title:"兑换成功",message:"充值的P币已到账，人偶兑换成功"}):a["a"].alert({title:"兑换失败",message:e.msg})}))},handleChangePayModal:function(e,t){switch(this.selectShopInfo=t,q["a"].setCache("selectInfo",t),this.$refs["payRef"].showDialog=!0,e){case"pro":this.payInfo={title:"充值专业版",id:"AFUNC_PRO_455D_A"};break;case"six":this.payInfo={title:"充值6P币",id:"ARCG600"};break;case"svip":this.payInfo={title:"充值SVIP",id:"AFUNC_SVIP_455D"};break}},_isWechat:function(){return navigator.userAgent.match(/micromessenger/i)},payWechat:function(){var e={snId:this.payInfo.id,chargeType:0,uid:this.$store.state.anniversaryModule.uid,loginKey:this.$store.state.anniversaryModule.token,appid:this._isWechat()?G["a"].wechatAPPID:null,from:this._isWechat()?3:2,remark:JSON.stringify({type:"7",eid:this.payInfo.id,inviteCode:null}),returnUrl:"".concat(window.location.href,"?state=success")};console.log(e,"data"),Object(L["b"])(e)},payAli:function(){var e={snId:this.payInfo.id,chargeType:1,uid:this.$store.state.anniversaryModule.uid,loginKey:this.$store.state.anniversaryModule.token,from:2,remark:JSON.stringify({type:8}),appid:G["a"].alipayAPPID,returnUrl:"".concat(window.location.href,"?state=success")};console.log(e,"data"),Object(L["a"])(e)}}},Q=H,X=(s("bd23"),s("4d7a"),Object(g["a"])(Q,o,n,!1,null,"20c65124",null));t["default"]=X.exports},"2c8d":function(e,t,s){},"34b7":function(e,t,s){"use strict";s("2c8d")},"3c75":function(e,t,s){"use strict";s("5244")},4276:function(e,t,s){},"48a6":function(e,t,s){"use strict";s("d599")},"4d7a":function(e,t,s){"use strict";s("5a24")},5243:function(e,t,s){},5244:function(e,t,s){},"5a24":function(e,t,s){},"75d5":function(e,t,s){"use strict";s("4276")},"98a2":function(e,t,s){},b3ce:function(e,t,s){"use strict";s("5243")},bd23:function(e,t,s){"use strict";s("98a2")},c08a:function(e,t,s){},d599:function(e,t,s){},f321:function(e,t,s){"use strict";s("c08a")}}]);